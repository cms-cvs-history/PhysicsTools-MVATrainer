#!/bin/env cmsRun

process testMVATrainerLooper = {
	source = EmptySource {
		untracked uint32 firstRun = 1
	}

	untracked PSet maxEvents = { untracked int32 input = 10000 }

	include "FWCore/MessageLogger/data/MessageLogger.cfi"

	// the defined EDAnalyzer code that feeds training data to the MVA
	module testMVATrainerLooper = testMVATrainerLooper {}

	path p = { testMVATrainerLooper }

	// module that will save the result
	module mvaDemoSaveFile = MVADemoSaveFile {
		string testMVA = "testMVAComputerEvaluate.mva"
	}

	endpath outpath = { mvaDemoSaveFile }

	// the trainer looper - configure the trainers here
	// the "testMVA" refers to the label of the MVA object
	// inside the "MVADemoRcd" record

	looper = MVADemoTrainerLooper {
		VPSet trainers = {
			{
				string calibrationRecord = "testMVA"
				untracked string trainDescription =
							"testMVATrainer.xml"
				untracked bool loadState = false
				untracked bool saveState = true
				untracked bool monitoring = true
			}
		}
	}
}
